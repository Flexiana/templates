{"version":3,"sources":["contrib/cljs_target.cljc"],"mappings":";;;;AAKS,oCAAA,pCAAMA;AAAN,AAAiB,iFAAA,1EAACC,6CAAEC;;AACpB,qCAAA,rCAAMC;AAAN,AAAkB,iFAAA,1EAACF,6CAAEC","names":["contrib.cljs-target/nodejs?","cljs.core._EQ_","cljs.core/*target*","contrib.cljs-target/browser?"],"sourcesContent":["(ns contrib.cljs-target\n  #?(:cljs (:require-macros [contrib.cljs-target]))\n  #?(:cljs (:require [goog.object :as object])))\n\n; preferred runtime check for target through public API https://cljs.github.io/api/cljs.core/STARtargetSTAR\n#?(:cljs (defn nodejs? [] (= cljs.core/*target* \"nodejs\")))\n#?(:cljs (defn browser? [] (= cljs.core/*target* \"default\")))\n\n;(defmacro do-cljs [& body] (when (some? (:js-globals &env)) `(do ~@body)))\n\n; undocumented hack, only works in macros. https://stackoverflow.com/a/47499855\n#?(:clj (defn- cljs-target [] (get-in @cljs.env/*compiler* [:options :closure-defines 'cljs.core/*target*])))\n\n(defmacro do-nodejs  [& body] (if     (= \"nodejs\" (cljs-target)) `(do ~@body)))\n(defmacro do-browser [& body] (if-not (= \"nodejs\" (cljs-target)) `(do ~@body)))\n"]}